(function($){"use strict";$(document).ready(function(){$(".conf-sch-date-field").datepicker();$("#conf-sch-date").datepicker("option","altField","#conf-sch-date-alt");$("#conf-sch-date").datepicker("option","altFormat","yy-mm-dd");$(".conf-sch-time-field").timepicker({step:15,timeFormat:"g:i a",minTime:"5:00 am"});$("#conf-sch-start-time").on("changeTime",function(){$("#conf-sch-end-time").timepicker("option","minTime",$(this).val())});$("#conf-sch-end-time").timepicker("option","showDuration",true);$("#conf-sch-end-time").timepicker("option","durationTime",function(){return $("#conf-sch-start-time").val()});$("#conf-sch-event-types").select2();conf_sch_set_event_types();$(".conf-sch-reload-event-types").on("click",function(){conf_sch_set_event_types()});$("#conf-sch-session-categories").select2();conf_sch_set_session_categories();$(".conf-sch-reload-session-categories").on("click",function(){conf_sch_set_session_categories()});$("#conf-sch-location").select2();conf_sch_set_location();$(".conf-sch-reload-locations").on("click",function(){conf_sch_set_location()})});function conf_sch_set_event_types(){$.ajax({url:"/wp-json/wp/v2/event_types",success:function($types){if($types===undefined||$types==""){return false}var $event_types_select=$("#conf-sch-event-types");$event_types_select.empty();$.each($types,function($index,$value){$event_types_select.append('<option value="'+$value.id+'">'+$value.name+"</option>")});if($("#post_ID").val()!=""){$.ajax({url:"/wp-json/wp/v2/schedule/"+$("#post_ID").val()+"/event_types",success:function($selected_event_types){if($selected_event_types===undefined||$selected_event_types==""){return false}$.each($selected_event_types,function($index,$value){$event_types_select.find('option[value="'+$value.id+'"]').attr("selected",true).trigger("change")})},cache:false})}},cache:false})}function conf_sch_set_session_categories(){$.ajax({url:"/wp-json/wp/v2/session_categories",success:function($categories){if($categories===undefined||$categories==""){return false}var $categories_select=$("#conf-sch-session-categories");$categories_select.empty();$.each($categories,function($index,$value){$categories_select.append('<option value="'+$value.id+'">'+$value.name+"</option>")});if($("#post_ID").val()!=""){$.ajax({url:"/wp-json/wp/v2/schedule/"+$("#post_ID").val()+"/session_categories",success:function($selected_categories){if($selected_categories===undefined||$selected_categories==""){return false}$.each($selected_categories,function($index,$value){$categories_select.find('option[value="'+$value.id+'"]').attr("selected",true).trigger("change")})},cache:false})}},cache:false})}function conf_sch_set_location(){$.ajax({url:"/wp-json/wp/v2/locations",success:function($locations){if($locations===undefined||$locations==""){return false}var $location_select=$("#conf-sch-location");$location_select.empty();$.each($locations,function($index,$value){$location_select.append('<option value="'+$value.id+'">'+$value.title.rendered+"</option>")});if($("#post_ID").val()!=""){$.ajax({url:"/wp-json/wp/v2/schedule/"+$("#post_ID").val(),success:function($event){if($event.event_location===undefined||$event.event_location==""){return false}$location_select.find('option[value="'+$event.event_location+'"]').attr("selected",true).trigger("change")},cache:false})}},cache:false})}})(jQuery);