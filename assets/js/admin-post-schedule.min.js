!function($){"use strict";function conf_sch_populate_events(){var $events_select=$("#conf-sch-event-parent");0!=$events_select.length&&($events_select.prop("disabled","disabled"),$.ajax({url:conf_sch.wp_api_route+"schedule?filter[posts_per_page]=-1&filter[conf_sch_ignore_clause_filter]=1",success:function($select_data){return void 0!==$select_data&&""!=$select_data&&($events_select.empty(),""!=$events_select.data("default")&&$events_select.append('<option value="">'+$events_select.data("default")+"</option>"),$.each($select_data,function(index,value){if(void 0===conf_sch.post_id||conf_sch.post_id!=value.id){var $event_title=value.title.rendered;$events_select.append('<option value="'+value.id+'">'+$event_title+"</option>")}}),void 0!==conf_sch.post_id&&conf_sch.post_id>0&&$.ajax({url:conf_sch.wp_api_route+"schedule/"+conf_sch.post_id,success:function($event){return void 0!==$event.event_parent&&""!=$event.event_parent&&void $events_select.find('option[value="'+$event.event_parent+'"]').attr("selected",!0).trigger("change")}}),void $events_select.prop("disabled",!1).trigger("change"))}}))}function conf_sch_populate_event_types(){var $event_types_select=$("#conf-sch-event-types");0!=$event_types_select.length&&($event_types_select.prop("disabled","disabled"),$.ajax({url:conf_sch.wp_api_route+"event_types?number=-1",success:function($types){return void 0!==$types&&""!=$types&&($event_types_select.empty(),""!=$event_types_select.data("default")&&$event_types_select.append('<option value="">'+$event_types_select.data("default")+"</option>"),$.each($types,function(index,value){$event_types_select.append('<option value="'+value.id+'">'+value.name+"</option>")}),void 0!==conf_sch.post_id&&conf_sch.post_id>0&&$.ajax({url:conf_sch.wp_api_route+"event_types?post="+conf_sch.post_id+"&number=-1",success:function($selected_event_types){return void 0!==$selected_event_types&&""!=$selected_event_types&&void $.each($selected_event_types,function(index,value){$event_types_select.find('option[value="'+value.id+'"]').attr("selected",!0).trigger("change")})}}),void $event_types_select.prop("disabled",!1).trigger("change"))}}))}function conf_sch_populate_session_categories(){var $categories_select=$("#conf-sch-session-categories");0!=$categories_select.length&&($categories_select.prop("disabled","disabled"),$.ajax({url:conf_sch.wp_api_route+"session_categories?number=-1",success:function($categories){return void 0!==$categories&&""!=$categories&&($categories_select.empty(),""!=$categories_select.data("default")&&$categories_select.append('<option value="">'+$categories_select.data("default")+"</option>"),$.each($categories,function(index,value){$categories_select.append('<option value="'+value.id+'">'+value.name+"</option>")}),void 0!==conf_sch.post_id&&conf_sch.post_id>0&&$.ajax({url:conf_sch.wp_api_route+"session_categories?post="+conf_sch.post_id+"&number=-1",success:function($selected_categories){return void 0!==$selected_categories&&""!=$selected_categories&&void $.each($selected_categories,function(index,value){$categories_select.find('option[value="'+value.id+'"]').attr("selected",!0).trigger("change")})}}),void $categories_select.prop("disabled",!1).trigger("change"))}}))}function conf_sch_populate_locations(){var $locations_select=$("#conf-sch-location");0!=$locations_select.length&&($locations_select.prop("disabled","disabled"),$.ajax({url:conf_sch.wp_api_route+"locations?filter[posts_per_page]=-1",success:function($select_data){return void 0!==$select_data&&""!=$select_data&&($locations_select.empty(),""!=$locations_select.data("default")&&$locations_select.append('<option value="">'+$locations_select.data("default")+"</option>"),$.each($select_data,function(index,value){$locations_select.append('<option value="'+value.id+'">'+value.title.rendered+"</option>")}),void 0!==conf_sch.post_id&&conf_sch.post_id>0&&$.ajax({url:conf_sch.wp_api_route+"schedule/"+conf_sch.post_id,success:function($event){return void 0!==$event.event_location&&""!=$event.event_location&&void $locations_select.find('option[value="'+$event.event_location.ID+'"]').attr("selected",!0).trigger("change")}}),void $locations_select.prop("disabled",!1).trigger("change"))}}))}function conf_sch_populate_speakers(){var $speakers_select=$("#conf-sch-speakers");0!=$speakers_select.length&&($speakers_select.prop("disabled","disabled"),$.ajax({url:ajaxurl,type:"GET",dataType:"json",async:!0,cache:!1,data:{action:"conf_sch_get_speakers",schedule_post_id:$("#post_ID").val()},success:function(speakers_data){if(void 0===speakers_data.speakers||"object"!=typeof speakers_data.speakers||0==speakers_data.speakers.length)return!1;$speakers_select.empty(),""!=$speakers_select.data("default")&&$speakers_select.append('<option value="">'+$speakers_select.data("default")+"</option>");var selected_speakers=[];void 0!==speakers_data.selected&&speakers_data.selected.length>0&&(selected_speakers=speakers_data.selected),$.each(speakers_data.speakers,function(index,value){var speaker_option=$('<option value="'+value.ID+'">'+value.post_title+"</option>");$.inArray(value.ID,selected_speakers)>=0&&speaker_option.attr("selected",!0),$speakers_select.append(speaker_option)}),$speakers_select.prop("disabled",!1).trigger("change")}}))}$(document).ready(function(){var sch_date_field=$(".conf-sch-date-field");sch_date_field.length>0&&sch_date_field.datepicker({altField:"#conf-sch-date-alt",altFormat:"yy-mm-dd"}),$("#conf-sch-date").on("change",function(){""==$(this).val()&&$("#conf-sch-date-alt").val("")});var sch_time_field=$(".conf-sch-time-field");sch_time_field.length>0&&sch_time_field.timepicker({step:15,timeFormat:"g:i a",minTime:"5:00 am"});var sch_end_time=$("#conf-sch-end-time");sch_end_time.length>0&&($("#conf-sch-start-time").on("changeTime",function(){sch_end_time.timepicker("option","minTime",$(this).val())}),sch_end_time.timepicker("option","showDuration",!0),sch_end_time.timepicker("option","durationTime",function(){return $("#conf-sch-start-time").val()})),$("#conf-sch-event-types").select2(),$("#conf-sch-session-categories").select2(),$("#conf-sch-location").select2(),$("#conf-sch-speakers").select2(),conf_sch_populate_events(),$(".conf-sch-refresh-events").on("click",function($event){return $event.preventDefault(),conf_sch_populate_events(),!1}),conf_sch_populate_event_types(),$(".conf-sch-refresh-event-types").on("click",function($event){return $event.preventDefault(),conf_sch_populate_event_types(),!1}),conf_sch_populate_session_categories(),$(".conf-sch-refresh-session-categories").on("click",function($event){return $event.preventDefault(),conf_sch_populate_session_categories(),!1}),conf_sch_populate_locations(),$(".conf-sch-refresh-locations").on("click",function($event){return $event.preventDefault(),conf_sch_populate_locations(),!1}),conf_sch_populate_speakers(),$(".conf-sch-refresh-speakers").on("click",function($event){return $event.preventDefault(),conf_sch_populate_speakers(),!1}),$(".conf-sch-slides-file-remove").on("click",function($event){$event.preventDefault(),$("#conf-sch-slides-file-info").hide(),$("#conf-sch-slides-file-input").show().val("").after('<input type="hidden" name="conf_schedule_event_delete_slides_file" value="1" />')})})}(jQuery);