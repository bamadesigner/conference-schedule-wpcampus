!function($){"use strict";$(document).ready(function(){var sch_date_field=$(".conf-sch-date-field");sch_date_field.length>0&&sch_date_field.datepicker({altField:"#conf-sch-date-alt",altFormat:"yy-mm-dd"}),$("#conf-sch-date").on("change",function(){""==$(this).val()&&$("#conf-sch-date-alt").val("")});var sch_time_field=$(".conf-sch-time-field");sch_time_field.length>0&&sch_time_field.timepicker({step:15,timeFormat:"g:i a",minTime:"5:00 am"});var sch_end_time=$("#conf-sch-end-time");sch_end_time.length>0&&($("#conf-sch-start-time").on("changeTime",function(){sch_end_time.timepicker("option","minTime",$(this).val())}),sch_end_time.timepicker("option","showDuration",!0),sch_end_time.timepicker("option","durationTime",function(){return $("#conf-sch-start-time").val()}));var $locations=$("#conf-sch-location"),$event_parent=$("#conf-sch-event-parent");$locations.select2(),$event_parent.conf_sch_populate_events(),$(".conf-sch-refresh-events").on("click",function($event){return $event.preventDefault(),$event_parent.conf_sch_populate_events(),!1}),$locations.conf_sch_populate_locations(),$(".conf-sch-refresh-locations").on("click",function($event){return $event.preventDefault(),$locations.conf_sch_populate_locations(),!1}),$(".conf-sch-slides-file-remove").on("click",function($event){$event.preventDefault(),$("#conf-sch-slides-file-info").hide(),$("#conf-sch-slides-file-input").show().val("").after('<input type="hidden" name="conf_schedule_event_delete_slides_file" value="1" />')})}),$.fn.conf_sch_populate_terms=function($taxonomy){if(void 0!==$taxonomy&&""!=$taxonomy){var $terms_select=$(this).prop("disabled","disabled");$.ajax({url:ajaxurl,type:"GET",dataType:"json",async:!0,cache:!1,data:{action:"conf_sch_get_terms",post_id:conf_sch.post_id,taxonomy:$taxonomy},success:function($terms){if(void 0===$terms||""==$terms)return!1;$terms_select.empty(),""!=$terms_select.data("default")&&$terms_select.append('<option value="">'+$terms_select.data("default")+"</option>"),$.each($terms,function(index,value){var $term=$('<option value="'+value.term_id+'">'+value.name+"</option>");value.is_selected&&$term.attr("selected",!0).trigger("change"),$terms_select.append($term)}),$terms_select.prop("disabled",!1).trigger("change")}})}},$.fn.conf_sch_populate_events=function(){var $select_field=$(this).prop("disabled","disabled");$.ajax({url:ajaxurl,type:"GET",dataType:"json",async:!0,cache:!1,data:{action:"conf_sch_get_events",select_parent:conf_sch.post_id},success:function(posts){$select_field.conf_sch_populate_posts(posts,conf_sch.post_id),$select_field.prop("disabled",!1).trigger("change")}})},$.fn.conf_sch_populate_locations=function(){var $select_field=$(this).prop("disabled","disabled");$.ajax({url:ajaxurl,type:"GET",dataType:"json",async:!0,cache:!1,data:{action:"conf_sch_get_posts",post_id:conf_sch.post_id,post_type:"locations",meta_key:"conf_sch_event_location"},success:function(posts){$select_field.conf_sch_populate_posts(posts),$select_field.prop("disabled",!1).trigger("change")}})},$.fn.conf_sch_populate_posts=function(posts,exclude_post){exclude_post=void 0!==exclude_post&&$.isNumeric(exclude_post)?parseInt(exclude_post):0;var $select_field=$(this);$select_field.empty(),""!=$select_field.data("default")&&$select_field.append('<option value="">'+$select_field.data("default")+"</option>"),void 0!==posts&&""!=posts&&$.each(posts,function(index,value){if(!(exclude_post>0&&exclude_post==value.ID)){var $post=$('<option value="'+value.ID+'">'+value.post_title+"</option>");value.is_selected&&$post.attr("selected",!0).trigger("change"),$select_field.append($post)}})}}(jQuery);