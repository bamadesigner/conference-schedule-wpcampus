!function($){"use strict";var conf_sch_speakers_templ=!1;$(document).ready(function(){var conf_sch_speakers_templ_content=$("#conf-schedule-speakers-list-template").html();void 0!==conf_sch_speakers_templ_content&&conf_sch_speakers_templ_content&&(conf_sch_speakers_templ=Handlebars.compile(conf_sch_speakers_templ_content),$("#conf-schedule-speakers").each(function(){$(this).render_conference_speakers()}))}),$.fn.render_conference_speakers=function(){var speakers_event,$this_list=$(this),speakers_date=null;""!=$this_list.data("date")&&(speakers_date=$this_list.data("date")),""!=$this_list.data("event")&&(speakers_event=$this_list.data("event"));var speaker_success=!1;$.ajax({url:conf_sch.ajaxurl,type:"GET",dataType:"json",async:!0,cache:!1,data:{action:"conf_sch_get_speakers",date:speakers_date,event:speakers_event,transient:"speakers_list"},success:function(speakers){if(void 0===speakers||""==speakers)return!1;speaker_success=!0,speakers=function(speakers){for(var wp_speakers={},i=0;i<speakers.length;i++){var speakerKey,speaker=speakers[i];if(wp_speakers[speakerKey=void 0===speaker.wordpress_user?"speaker"+speaker.ID:"speaker"+speaker.wordpress_user]){if(speaker.sessions&&speaker.sessions.length){wp_speakers[speakerKey].sessions||(wp_speakers[speakerKey].sessions=[]);for(var s=0;s<speaker.sessions.length;s++)wp_speakers[speakerKey].sessions.push(speaker.sessions[s])}}else wp_speakers[speakerKey]=speaker}return wp_speakers}(speakers),$this_list.fadeOut(500,function(){$this_list.hide().html(conf_sch_speakers_templ(speakers)).fadeIn(500)})},complete:function(){speaker_success||$this_list.fadeOut(500,function(){$this_list.hide().html('<p class="conf-schedule-speakers-error">'+conf_sch.speaker_error+"</p>").fadeIn(500)})}})},Handlebars.registerHelper("speaker_sessions",function(){var sessions=[];if(this.sessions&&this.sessions.forEach(function(item){var session="";item.title&&(session=item.title),item.link&&(session='<a href="'+item.link+'">'+session+"</a>"),session&&sessions.push(session)}),!sessions.length)return null;var output_string='<p class="speaker-sessions">';return output_string+='<span class="speaker-session-label">'+(1==sessions.length?"Session":"Sessions")+": </span>",output_string+='<span class="speaker-session-events">'+sessions.join(", ")+"</span>",output_string+="</p>",new Handlebars.SafeString(output_string)}),Handlebars.registerHelper("speaker_meta",function(){var output_string="";if(this.company_position||this.company){var company_position=this.company_position,company=this.company;if(company_position&&(output_string+='<span class="speaker-position">'+company_position+"</span>"),company){output_string&&(output_string+=", ");var company_website=this.company_website;company_website&&(company='<a href="'+company_website+'">'+company+"</a>"),output_string+='<span class="speaker-company">'+company+"</span>"}}return output_string?new Handlebars.SafeString('<div class="speaker-meta">'+output_string+"</div>"):null})}(jQuery);